-- V7: create T_CUSTOMER 
CREATE TABLE T_CUSTOMER (
  CDRMASK                         VARCHAR2(255),
  BILLING_CODE                    VARCHAR2(255),
  BLIND                           VARCHAR2(255)    NOT NULL,
  CITIZEN_NUMBER                  VARCHAR2(11),
  CUSTOMER_NUMBER                 VARCHAR2(255),
  CUSTOMER_SOURCE_CREATION_DATE   TIMESTAMP,
  CUSTOMER_SOURCE_ID_FROM_SOURCE  VARCHAR2(255),
  DESCRIPTION                     VARCHAR2(255),
  ERP_ADDRESS_ID                  VARCHAR2(255),
  ERP_CUSTOMER_ID                 VARCHAR2(255),
  EXEMPT_FROM_STAMP_TAX           VARCHAR2(255),
  EXEMPT_FROM_STAMP_TAX_END       TIMESTAMP,
  EXEMPT_FROM_STAMP_TAX_STRT      TIMESTAMP,
  FIRST_NAME                      VARCHAR2(255),
  GIB_STATUS                      VARCHAR2(255),
  INCLUDED_FORTPSPINTEGRATION     VARCHAR2(255),
  LANGUAGE                        VARCHAR2(255),
  LAST_NAME                       VARCHAR2(255),
  LOCKED                          VARCHAR2(255),
  LOSS_DATE                       TIMESTAMP,
  MAXIMO_CODE                     VARCHAR2(255),
  MERNIS_STATUS                   VARCHAR2(255),
  NATIONALITY                     VARCHAR2(255),
  OIV_EXEMPT                      VARCHAR2(255),
  OIV_EXEMPTION_END               TIMESTAMP,
  OIV_EXEMPTION_START             TIMESTAMP,
  OVERDUE_INTEREST_EXEMPTION      VARCHAR2(255),
  OVERDUE_INTEREST_EXEMP_END      TIMESTAMP,
  OVERDUE_INTEREST_EXEMP_STRT     TIMESTAMP,
  RISK_STATUS                     VARCHAR2(255),
  START_DATE                      TIMESTAMP,
  TURKCELL_CUSTOMER_NUMBER        VARCHAR2(255),
  VAT_EXEMPT                      VARCHAR2(255),
  VAT_EXEMPTION_END               TIMESTAMP,
  VAT_EXEMPTION_START             TIMESTAMP,

  ID                              VARCHAR2(255)    NOT NULL,  -- PK
  CUSTOMER_DETAIL                 VARCHAR2(255),
  CUSTOMER_SEGMENT                VARCHAR2(255)    NOT NULL,
  CUSTOMER_SUB_SEGMENT            VARCHAR2(255),
  DEFAULT_BILL_ACCOUNT            VARCHAR2(255),
  FINANCIAL_SEGMENT_ID            VARCHAR2(255),

  MIG_STATUS                      VARCHAR2(2),
  MIG_DATE                        DATE,
  ONEDESK_CODE                    NUMBER(19,0),
  EAM_SEQUENCE_ID                 VARCHAR2(255),
  SHOW_ERP                        VARCHAR2(255),
  BILLING_LANGUAGE                VARCHAR2(255),
  HANDICAPPED                     VARCHAR2(255),
  GENERAL_DECLARATION             VARCHAR2(255),
  PRIMARY_RESPONSIBLE_POSITIONID  VARCHAR2(255),
  SILENT                          VARCHAR2(1),

  CONSTRAINT PK_T_CUSTOMER PRIMARY KEY (ID),

  -- NOT NULL’lar (SQL Developer bunları CHECK olarak gösteriyor)
  CONSTRAINT NN_T_CUSTOMER_BLIND           CHECK (BLIND IS NOT NULL),
  CONSTRAINT NN_T_CUSTOMER_ID              CHECK (ID IS NOT NULL),
  CONSTRAINT NN_T_CUSTOMER_SEGMENT         CHECK (CUSTOMER_SEGMENT IS NOT NULL),

  -- enum/validation CHECK’leri (ekran görüntüsündekiler)
  CONSTRAINT CHK_T_CUSTOMER_GENERAL_DECL   CHECK (GENERAL_DECLARATION IN ('YES','NO','UNDEFINED')),
  CONSTRAINT CHK_T_CUSTOMER_CDRMASK        CHECK (CDRMASK IN ('YES','NO','UNDEFINED')),
  CONSTRAINT CHK_T_CUSTOMER_GIB_STATUS     CHECK (GIB_STATUS IN ('CONFIRMED','IN_BACKOFFICE','INVALID','POTENTIAL','FOREIGN_NATIONAL')),
  CONSTRAINT CHK_T_CUSTOMER_STAMP_TAX      CHECK (EXEMPT_FROM_STAMP_TAX IN ('YES','NO','UNDEFINED')),
  CONSTRAINT CHK_T_CUSTOMER_FORTPS         CHECK (INCLUDED_FORTPSPINTEGRATION IN ('YES','NO','UNDEFINED')),
  CONSTRAINT CHK_T_CUSTOMER_VAT_EXEMPT     CHECK (VAT_EXEMPT IN ('YES','NO','UNDEFINED')),
  CONSTRAINT CHK_T_CUSTOMER_RISK_STATUS    CHECK (RISK_STATUS IN ('NEGATIVE','POSITIVE')),
  CONSTRAINT CHK_T_CUSTOMER_BLIND_ENUM     CHECK (BLIND IN ('YES','NO','UNDEFINED')),
  CONSTRAINT CHK_T_CUSTOMER_LOCKED         CHECK (LOCKED IN ('YES','NO','UNDEFINED')),
  CONSTRAINT CHK_T_CUSTOMER_NATIONALITY    CHECK (NATIONALITY IN ('TR','OTHER','UNKNOWN')),
  CONSTRAINT CHK_T_CUSTOMER_OIV_EXEMPT     CHECK (OIV_EXEMPT IN ('YES','NO','UNDEFINED')),
  CONSTRAINT CHK_T_CUSTOMER_MERNIS_STATUS  CHECK (MERNIS_STATUS IN ('CONFIRMED','IN_BACKOFFICE','INVALID','POTENTIAL','FOREIGN_NATIONAL')),
  CONSTRAINT CHK_T_CUSTOMER_OVERDUE_INT    CHECK (OVERDUE_INTEREST_EXEMPTION IN ('YES','NO','UNDEFINED')),
  CONSTRAINT CHK_T_CUSTOMER_SILENT         CHECK (SILENT IN ('X'))
);




